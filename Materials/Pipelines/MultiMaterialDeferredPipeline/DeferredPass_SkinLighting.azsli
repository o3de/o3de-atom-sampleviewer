/*
 * Copyright (c) Contributors to the Open 3D Engine Project.
 * For complete copyright and license terms please see the LICENSE at the root of this distribution.
 *
 * SPDX-License-Identifier: Apache-2.0 OR MIT
 *
 */
#pragma once

#include <Atom/Features/SrgSemantics.azsli>

#define MATERIALPIPELINE_SHADER_HAS_PIXEL_STAGE 1
#define PIPELINE_HAS_OBJECT_SRG 0
#define PIPELINE_HAS_DRAW_SRG 0

#define OUTPUT_DEPTH 0
#define FORCE_OPAQUE 1
#define OUTPUT_SUBSURFACE 1
#define ENABLE_TRANSMISSION 1
#define ENABLE_ANISOTROPY 0
#define ENABLE_SHADER_DEBUGGING 1
#define ENABLE_CLEAR_COAT 0
#define ENABLE_DUAL_SPECULAR 1
#define FORCE_IBL_IN_FORWARD_PASS 1

#define CS_SAMPLERS

// Use human skin profile for thin object transmission (if enabled)
// Remove this line to use a custom profile based on the scatter color
#define USE_HUMAN_SKIN_PROFILE 1

//////////////////////////////////////////////////////////////////////////////////////////////////

#ifdef MATERIAL_TYPE_DEFINES_AZSLI_FILE_PATH
#include MATERIAL_TYPE_DEFINES_AZSLI_FILE_PATH
#endif

//////////////////////////////////////////////////////////////////////////////////////////////////

#include <viewsrg_all.srgi>
#include <scenesrg_all.srgi>
#include <Atom/Features/Pipeline/Deferred/DeferredPassSrg.azsli>
#include <Atom/Features/Pipeline/Deferred/DeferredPassVertexData.azsli>
#include <Atom/Features/Pipeline/Deferred/DeferredPassPipelineCallbacks.azsli>

//////////////////////////////////////////////////////////////////////////////////////////////////

#include MATERIAL_TYPE_AZSLI_FILE_PATH

//////////////////////////////////////////////////////////////////////////////////////////////////
// Lighting eval functions from the forward-pass that use functions defined by the material
#include <Atom/Features/Pipeline/Deferred/DeferredPassEvaluateLighting.azsli>

#include <MultiMaterialDeferredPipeline/DeferredPassFullscreenPixel.azsli>

